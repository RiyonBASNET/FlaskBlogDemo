{% extends "index.html" %}
{% block title %}Posts{% endblock %}
{% block content %}
<h1 align="center">{% block header %}Posts{% endblock %}</h1>
<div id="posts">
    {% for post in posts %}
    <div class="card border-dark">
        <div class="card-header d-flex justify-content-between align-items-center">
            <a href="/user/{{post.user.username}}">{{post.user.username}}</a>
            {% if user.id == post.author %}
            <div class="btn-group">
                <button type="button" class="btn btn-sm btn-secondary dropdown-toggle"
                    data-bs-toggle="dropdown"></button>
                <ul class="dropdown-menu">
                    <li><a href="/editpost/{{post.id}}" class="dropdown-item">Edit</a></li>
                    <li>
                        <hr class="dropdown-divider">
                    </li>
                    <li><a href="/deletepost/{{post.id}}" class="dropdown-item">Delete</a></li>
                </ul>
            </div>
            {% endif %}
        </div>
        <div class="card-body">
            <div class="card-text">
                {{post.text}}
            </div>
            <div class="card-footer text-muted">
                {{post.date_created}}
            </div>
        </div>
    </div>
    <br>
    {% endfor %}

</div>
{% block footer %}
<div align="center">
    <a href="/home">
        <button type="button" class="btn btn-lg btn-secondary">Back</button>
    </a>
</div>
{% endblock %}
{% endblock %}